var cov_hf6fyii4b=function(){var path='/usr/src/app/lib/elasticsearch/bulk.js',hash='f3f3a1687ac7b66711d102155d7608b26b49675b',Function=function(){}.constructor,global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/usr/src/app/lib/elasticsearch/bulk.js',statementMap:{'0':{start:{line:1,column:16},end:{line:1,column:34}},'1':{start:{line:2,column:16},end:{line:2,column:35}},'2':{start:{line:3,column:13},end:{line:3,column:28}},'3':{start:{line:6,column:2},end:{line:7,column:54}},'4':{start:{line:7,column:4},end:{line:7,column:54}},'5':{start:{line:9,column:2},end:{line:10,column:27}},'6':{start:{line:10,column:4},end:{line:10,column:27}},'7':{start:{line:12,column:2},end:{line:13,column:27}},'8':{start:{line:13,column:4},end:{line:13,column:27}},'9':{start:{line:15,column:2},end:{line:15,column:29}},'10':{start:{line:16,column:2},end:{line:16,column:31}},'11':{start:{line:17,column:2},end:{line:18,column:55}},'12':{start:{line:18,column:4},end:{line:18,column:55}},'13':{start:{line:19,column:2},end:{line:19,column:23}},'14':{start:{line:20,column:2},end:{line:20,column:21}},'15':{start:{line:21,column:2},end:{line:21,column:19}},'16':{start:{line:22,column:2},end:{line:22,column:23}},'17':{start:{line:25,column:0},end:{line:25,column:28}},'18':{start:{line:27,column:0},end:{line:57,column:2}},'19':{start:{line:28,column:14},end:{line:28,column:16}},'20':{start:{line:29,column:17},end:{line:29,column:65}},'21':{start:{line:30,column:14},end:{line:32,column:3}},'22':{start:{line:34,column:2},end:{line:34,column:15}},'23':{start:{line:36,column:2},end:{line:39,column:3}},'24':{start:{line:37,column:4},end:{line:37,column:26}},'25':{start:{line:38,column:4},end:{line:38,column:20}},'26':{start:{line:41,column:2},end:{line:44,column:3}},'27':{start:{line:42,column:4},end:{line:42,column:24}},'28':{start:{line:43,column:4},end:{line:43,column:19}},'29':{start:{line:46,column:2},end:{line:49,column:3}},'30':{start:{line:47,column:4},end:{line:47,column:26}},'31':{start:{line:48,column:4},end:{line:48,column:20}},'32':{start:{line:51,column:2},end:{line:54,column:3}},'33':{start:{line:52,column:4},end:{line:52,column:28}},'34':{start:{line:53,column:4},end:{line:53,column:21}},'35':{start:{line:56,column:2},end:{line:56,column:13}},'36':{start:{line:59,column:0},end:{line:138,column:2}},'37':{start:{line:60,column:15},end:{line:81,column:7}},'38':{start:{line:61,column:4},end:{line:68,column:5}},'39':{start:{line:62,column:19},end:{line:62,column:25}},'40':{start:{line:63,column:6},end:{line:63,column:20}},'41':{start:{line:64,column:6},end:{line:64,column:16}},'42':{start:{line:65,column:6},end:{line:66,column:21}},'43':{start:{line:66,column:8},end:{line:66,column:21}},'44':{start:{line:67,column:6},end:{line:67,column:15}},'45':{start:{line:70,column:4},end:{line:70,column:28}},'46':{start:{line:72,column:4},end:{line:72,column:23}},'47':{start:{line:74,column:4},end:{line:79,column:22}},'48':{start:{line:75,column:6},end:{line:75,column:16}},'49':{start:{line:76,column:9},end:{line:79,column:22}},'50':{start:{line:77,column:6},end:{line:77,column:41}},'51':{start:{line:78,column:9},end:{line:79,column:22}},'52':{start:{line:79,column:6},end:{line:79,column:22}},'53':{start:{line:80,column:4},end:{line:80,column:13}},'54':{start:{line:83,column:18},end:{line:135,column:3}},'55':{start:{line:84,column:4},end:{line:134,column:7}},'56':{start:{line:95,column:6},end:{line:96,column:15}},'57':{start:{line:96,column:8},end:{line:96,column:15}},'58':{start:{line:99,column:6},end:{line:99,column:45}},'59':{start:{line:99,column:30},end:{line:99,column:43}},'60':{start:{line:101,column:6},end:{line:102,column:17}},'61':{start:{line:102,column:8},end:{line:102,column:17}},'62':{start:{line:104,column:20},end:{line:108,column:8}},'63':{start:{line:105,column:21},end:{line:105,column:52}},'64':{start:{line:106,column:8},end:{line:106,column:29}},'65':{start:{line:107,column:8},end:{line:107,column:58}},'66':{start:{line:109,column:6},end:{line:109,column:48}},'67':{start:{line:111,column:6},end:{line:111,column:27}},'68':{start:{line:112,column:6},end:{line:113,column:16}},'69':{start:{line:113,column:8},end:{line:113,column:16}},'70':{start:{line:114,column:6},end:{line:115,column:39}},'71':{start:{line:115,column:8},end:{line:115,column:39}},'72':{start:{line:119,column:6},end:{line:130,column:7}},'73':{start:{line:120,column:8},end:{line:120,column:63}},'74':{start:{line:122,column:8},end:{line:123,column:82}},'75':{start:{line:123,column:10},end:{line:123,column:82}},'76':{start:{line:125,column:8},end:{line:126,column:74}},'77':{start:{line:126,column:10},end:{line:126,column:74}},'78':{start:{line:129,column:8},end:{line:129,column:54}},'79':{start:{line:132,column:6},end:{line:133,column:42}},'80':{start:{line:137,column:2},end:{line:137,column:19}},'81':{start:{line:140,column:0},end:{line:140,column:22}}},fnMap:{'0':{name:'Bulk',decl:{start:{line:5,column:9},end:{line:5,column:13}},loc:{start:{line:5,column:48},end:{line:23,column:1}},line:5},'1':{name:'(anonymous_1)',decl:{start:{line:27,column:25},end:{line:27,column:26}},loc:{start:{line:27,column:37},end:{line:57,column:1}},line:27},'2':{name:'(anonymous_2)',decl:{start:{line:59,column:21},end:{line:59,column:22}},loc:{start:{line:59,column:33},end:{line:138,column:1}},line:59},'3':{name:'(anonymous_3)',decl:{start:{line:60,column:35},end:{line:60,column:36}},loc:{start:{line:60,column:44},end:{line:81,column:3}},line:60},'4':{name:'(anonymous_4)',decl:{start:{line:83,column:18},end:{line:83,column:19}},loc:{start:{line:83,column:27},end:{line:135,column:3}},line:83},'5':{name:'(anonymous_5)',decl:{start:{line:94,column:10},end:{line:94,column:11}},loc:{start:{line:94,column:15},end:{line:110,column:5}},line:94},'6':{name:'(anonymous_6)',decl:{start:{line:99,column:22},end:{line:99,column:23}},loc:{start:{line:99,column:30},end:{line:99,column:43}},line:99},'7':{name:'(anonymous_7)',decl:{start:{line:104,column:35},end:{line:104,column:36}},loc:{start:{line:104,column:40},end:{line:108,column:7}},line:104},'8':{name:'(anonymous_8)',decl:{start:{line:110,column:6},end:{line:110,column:7}},loc:{start:{line:110,column:11},end:{line:134,column:5}},line:110}},branchMap:{'0':{loc:{start:{line:6,column:2},end:{line:7,column:54}},type:'if',locations:[{start:{line:6,column:2},end:{line:7,column:54}},{start:{line:6,column:2},end:{line:7,column:54}}],line:6},'1':{loc:{start:{line:9,column:2},end:{line:10,column:27}},type:'if',locations:[{start:{line:9,column:2},end:{line:10,column:27}},{start:{line:9,column:2},end:{line:10,column:27}}],line:9},'2':{loc:{start:{line:12,column:2},end:{line:13,column:27}},type:'if',locations:[{start:{line:12,column:2},end:{line:13,column:27}},{start:{line:12,column:2},end:{line:13,column:27}}],line:12},'3':{loc:{start:{line:16,column:17},end:{line:16,column:30}},type:'binary-expr',locations:[{start:{line:16,column:17},end:{line:16,column:24}},{start:{line:16,column:28},end:{line:16,column:30}}],line:16},'4':{loc:{start:{line:17,column:2},end:{line:18,column:55}},type:'if',locations:[{start:{line:17,column:2},end:{line:18,column:55}},{start:{line:17,column:2},end:{line:18,column:55}}],line:17},'5':{loc:{start:{line:29,column:17},end:{line:29,column:65}},type:'cond-expr',locations:[{start:{line:29,column:43},end:{line:29,column:51}},{start:{line:29,column:54},end:{line:29,column:65}}],line:29},'6':{loc:{start:{line:36,column:2},end:{line:39,column:3}},type:'if',locations:[{start:{line:36,column:2},end:{line:39,column:3}},{start:{line:36,column:2},end:{line:39,column:3}}],line:36},'7':{loc:{start:{line:41,column:2},end:{line:44,column:3}},type:'if',locations:[{start:{line:41,column:2},end:{line:44,column:3}},{start:{line:41,column:2},end:{line:44,column:3}}],line:41},'8':{loc:{start:{line:46,column:2},end:{line:49,column:3}},type:'if',locations:[{start:{line:46,column:2},end:{line:49,column:3}},{start:{line:46,column:2},end:{line:49,column:3}}],line:46},'9':{loc:{start:{line:51,column:2},end:{line:54,column:3}},type:'if',locations:[{start:{line:51,column:2},end:{line:54,column:3}},{start:{line:51,column:2},end:{line:54,column:3}}],line:51},'10':{loc:{start:{line:61,column:4},end:{line:68,column:5}},type:'if',locations:[{start:{line:61,column:4},end:{line:68,column:5}},{start:{line:61,column:4},end:{line:68,column:5}}],line:61},'11':{loc:{start:{line:65,column:6},end:{line:66,column:21}},type:'if',locations:[{start:{line:65,column:6},end:{line:66,column:21}},{start:{line:65,column:6},end:{line:66,column:21}}],line:65},'12':{loc:{start:{line:72,column:8},end:{line:72,column:22}},type:'binary-expr',locations:[{start:{line:72,column:8},end:{line:72,column:17}},{start:{line:72,column:21},end:{line:72,column:22}}],line:72},'13':{loc:{start:{line:74,column:4},end:{line:79,column:22}},type:'if',locations:[{start:{line:74,column:4},end:{line:79,column:22}},{start:{line:74,column:4},end:{line:79,column:22}}],line:74},'14':{loc:{start:{line:76,column:9},end:{line:79,column:22}},type:'if',locations:[{start:{line:76,column:9},end:{line:79,column:22}},{start:{line:76,column:9},end:{line:79,column:22}}],line:76},'15':{loc:{start:{line:78,column:9},end:{line:79,column:22}},type:'if',locations:[{start:{line:78,column:9},end:{line:79,column:22}},{start:{line:78,column:9},end:{line:79,column:22}}],line:78},'16':{loc:{start:{line:95,column:6},end:{line:96,column:15}},type:'if',locations:[{start:{line:95,column:6},end:{line:96,column:15}},{start:{line:95,column:6},end:{line:96,column:15}}],line:95},'17':{loc:{start:{line:95,column:10},end:{line:95,column:62}},type:'binary-expr',locations:[{start:{line:95,column:10},end:{line:95,column:34}},{start:{line:95,column:38},end:{line:95,column:62}}],line:95},'18':{loc:{start:{line:101,column:6},end:{line:102,column:17}},type:'if',locations:[{start:{line:101,column:6},end:{line:102,column:17}},{start:{line:101,column:6},end:{line:102,column:17}}],line:101},'19':{loc:{start:{line:105,column:21},end:{line:105,column:52}},type:'binary-expr',locations:[{start:{line:105,column:21},end:{line:105,column:29}},{start:{line:105,column:33},end:{line:105,column:40}},{start:{line:105,column:44},end:{line:105,column:52}}],line:105},'20':{loc:{start:{line:107,column:15},end:{line:107,column:57}},type:'binary-expr',locations:[{start:{line:107,column:15},end:{line:107,column:34}},{start:{line:107,column:38},end:{line:107,column:57}}],line:107},'21':{loc:{start:{line:109,column:13},end:{line:109,column:47}},type:'binary-expr',locations:[{start:{line:109,column:13},end:{line:109,column:25}},{start:{line:109,column:29},end:{line:109,column:34}},{start:{line:109,column:38},end:{line:109,column:47}}],line:109},'22':{loc:{start:{line:111,column:15},end:{line:111,column:25}},type:'binary-expr',locations:[{start:{line:111,column:15},end:{line:111,column:20}},{start:{line:111,column:24},end:{line:111,column:25}}],line:111},'23':{loc:{start:{line:112,column:6},end:{line:113,column:16}},type:'if',locations:[{start:{line:112,column:6},end:{line:113,column:16}},{start:{line:112,column:6},end:{line:113,column:16}}],line:112},'24':{loc:{start:{line:112,column:10},end:{line:112,column:69}},type:'binary-expr',locations:[{start:{line:112,column:10},end:{line:112,column:34}},{start:{line:112,column:38},end:{line:112,column:69}}],line:112},'25':{loc:{start:{line:114,column:6},end:{line:115,column:39}},type:'if',locations:[{start:{line:114,column:6},end:{line:115,column:39}},{start:{line:114,column:6},end:{line:115,column:39}}],line:114},'26':{loc:{start:{line:119,column:6},end:{line:130,column:7}},type:'if',locations:[{start:{line:119,column:6},end:{line:130,column:7}},{start:{line:119,column:6},end:{line:130,column:7}}],line:119},'27':{loc:{start:{line:122,column:8},end:{line:123,column:82}},type:'if',locations:[{start:{line:122,column:8},end:{line:123,column:82}},{start:{line:122,column:8},end:{line:123,column:82}}],line:122},'28':{loc:{start:{line:125,column:8},end:{line:126,column:74}},type:'if',locations:[{start:{line:125,column:8},end:{line:126,column:74}},{start:{line:125,column:8},end:{line:126,column:74}}],line:125},'29':{loc:{start:{line:129,column:21},end:{line:129,column:53}},type:'binary-expr',locations:[{start:{line:129,column:21},end:{line:129,column:44}},{start:{line:129,column:48},end:{line:129,column:53}}],line:129}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0],'13':[0,0],'14':[0,0],'15':[0,0],'16':[0,0],'17':[0,0],'18':[0,0],'19':[0,0,0],'20':[0,0],'21':[0,0,0],'22':[0,0],'23':[0,0],'24':[0,0],'25':[0,0],'26':[0,0],'27':[0,0],'28':[0,0],'29':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const Streamz=(cov_hf6fyii4b.s[0]++,require('streamz'));const Promise=(cov_hf6fyii4b.s[1]++,require('bluebird'));const util=(cov_hf6fyii4b.s[2]++,require('util'));function Bulk(action,client,index,type,options){cov_hf6fyii4b.f[0]++;cov_hf6fyii4b.s[3]++;if(!(this instanceof Bulk)){cov_hf6fyii4b.b[0][0]++;cov_hf6fyii4b.s[4]++;return new Bulk(action,client,index,type,options);}else{cov_hf6fyii4b.b[0][1]++;}cov_hf6fyii4b.s[5]++;if(!client){cov_hf6fyii4b.b[1][0]++;cov_hf6fyii4b.s[6]++;throw'CLIENT_MISSING';}else{cov_hf6fyii4b.b[1][1]++;}cov_hf6fyii4b.s[7]++;if(!action){cov_hf6fyii4b.b[2][0]++;cov_hf6fyii4b.s[8]++;throw'ACTION_MISSING';}else{cov_hf6fyii4b.b[2][1]++;}cov_hf6fyii4b.s[9]++;Streamz.call(this,options);cov_hf6fyii4b.s[10]++;this.options=(cov_hf6fyii4b.b[3][0]++,options)||(cov_hf6fyii4b.b[3][1]++,{});cov_hf6fyii4b.s[11]++;if(this.options.pushResult)// legacy fix
{cov_hf6fyii4b.b[4][0]++;cov_hf6fyii4b.s[12]++;this.options.pushResults=this.options.pushResult;}else{cov_hf6fyii4b.b[4][1]++;}cov_hf6fyii4b.s[13]++;this.action=action;cov_hf6fyii4b.s[14]++;this.index=index;cov_hf6fyii4b.s[15]++;this.type=type;cov_hf6fyii4b.s[16]++;this.client=client;}cov_hf6fyii4b.s[17]++;util.inherits(Bulk,Streamz);cov_hf6fyii4b.s[18]++;Bulk.prototype.getMeta=function(d){cov_hf6fyii4b.f[1]++;const res=(cov_hf6fyii4b.s[19]++,{});const action=(cov_hf6fyii4b.s[20]++,this.action=='upsert'?(cov_hf6fyii4b.b[5][0]++,'update'):(cov_hf6fyii4b.b[5][1]++,this.action));const obj=(cov_hf6fyii4b.s[21]++,res[action]={_id:d._id});cov_hf6fyii4b.s[22]++;delete d._id;cov_hf6fyii4b.s[23]++;if(!this.index){cov_hf6fyii4b.b[6][0]++;cov_hf6fyii4b.s[24]++;obj._index=d._index;cov_hf6fyii4b.s[25]++;delete d._index;}else{cov_hf6fyii4b.b[6][1]++;}cov_hf6fyii4b.s[26]++;if(!this.type){cov_hf6fyii4b.b[7][0]++;cov_hf6fyii4b.s[27]++;obj._type=d._type;cov_hf6fyii4b.s[28]++;delete d._type;}else{cov_hf6fyii4b.b[7][1]++;}cov_hf6fyii4b.s[29]++;if(!this.parent){cov_hf6fyii4b.b[8][0]++;cov_hf6fyii4b.s[30]++;obj.parent=d.parent;cov_hf6fyii4b.s[31]++;delete d.parent;}else{cov_hf6fyii4b.b[8][1]++;}cov_hf6fyii4b.s[32]++;if(!this.routing){cov_hf6fyii4b.b[9][0]++;cov_hf6fyii4b.s[33]++;obj.routing=d.routing;cov_hf6fyii4b.s[34]++;delete d.routing;}else{cov_hf6fyii4b.b[9][1]++;}cov_hf6fyii4b.s[35]++;return res;};cov_hf6fyii4b.s[36]++;Bulk.prototype._fn=function(d){cov_hf6fyii4b.f[2]++;const data=(cov_hf6fyii4b.s[37]++,[].concat(d).reduce((p,d)=>{cov_hf6fyii4b.f[3]++;cov_hf6fyii4b.s[38]++;if(this.action=='custom'){cov_hf6fyii4b.b[10][0]++;const body=(cov_hf6fyii4b.s[39]++,d.body);cov_hf6fyii4b.s[40]++;delete d.body;cov_hf6fyii4b.s[41]++;p.push(d);cov_hf6fyii4b.s[42]++;if(body){cov_hf6fyii4b.b[11][0]++;cov_hf6fyii4b.s[43]++;p.push(body);}else{cov_hf6fyii4b.b[11][1]++;}cov_hf6fyii4b.s[44]++;return p;}else{cov_hf6fyii4b.b[10][1]++;}cov_hf6fyii4b.s[45]++;p.push(this.getMeta(d));cov_hf6fyii4b.s[46]++;d=(cov_hf6fyii4b.b[12][0]++,d._source)||(cov_hf6fyii4b.b[12][1]++,d);cov_hf6fyii4b.s[47]++;if(this.action=='index'){cov_hf6fyii4b.b[13][0]++;cov_hf6fyii4b.s[48]++;p.push(d);}else{cov_hf6fyii4b.b[13][1]++;cov_hf6fyii4b.s[49]++;if(this.action=='upsert'){cov_hf6fyii4b.b[14][0]++;cov_hf6fyii4b.s[50]++;p.push({doc:d,doc_as_upsert:true});}else{cov_hf6fyii4b.b[14][1]++;cov_hf6fyii4b.s[51]++;if(this.action=='update'){cov_hf6fyii4b.b[15][0]++;cov_hf6fyii4b.s[52]++;p.push({doc:d});}else{cov_hf6fyii4b.b[15][1]++;}}}cov_hf6fyii4b.s[53]++;return p;},[]));cov_hf6fyii4b.s[54]++;const execute=retry=>{cov_hf6fyii4b.f[4]++;cov_hf6fyii4b.s[55]++;return this.client.bulk({body:data,index:this.index,type:this.type,consistency:this.options.consistency,refresh:this.options.refresh,routing:this.options.routing,timeout:this.options.timeout,fields:this.options.fields}).then(e=>{cov_hf6fyii4b.f[5]++;cov_hf6fyii4b.s[56]++;if((cov_hf6fyii4b.b[17][0]++,!this.options.pushResult)&&(cov_hf6fyii4b.b[17][1]++,!this.options.pushErrors)){cov_hf6fyii4b.b[16][0]++;cov_hf6fyii4b.s[57]++;return;}else{cov_hf6fyii4b.b[16][1]++;}// Insert a copy of the original body
cov_hf6fyii4b.s[58]++;e.items.forEach((e,i)=>{cov_hf6fyii4b.f[6]++;cov_hf6fyii4b.s[59]++;return e.body=d[i];});cov_hf6fyii4b.s[60]++;if(this.options.pushResults){cov_hf6fyii4b.b[18][0]++;cov_hf6fyii4b.s[61]++;return e;}else{cov_hf6fyii4b.b[18][1]++;}const items=(cov_hf6fyii4b.s[62]++,e.items.filter(d=>{cov_hf6fyii4b.f[7]++;const verb=(cov_hf6fyii4b.s[63]++,(cov_hf6fyii4b.b[19][0]++,d.update)||(cov_hf6fyii4b.b[19][1]++,d.index)||(cov_hf6fyii4b.b[19][2]++,d.create));cov_hf6fyii4b.s[64]++;d.error=verb.error;cov_hf6fyii4b.s[65]++;return(cov_hf6fyii4b.b[20][0]++,verb.status!==201)&&(cov_hf6fyii4b.b[20][1]++,verb.status!==200);}));cov_hf6fyii4b.s[66]++;return(cov_hf6fyii4b.b[21][0]++,items.length)&&(cov_hf6fyii4b.b[21][1]++,items)||(cov_hf6fyii4b.b[21][2]++,undefined);},e=>{cov_hf6fyii4b.f[8]++;cov_hf6fyii4b.s[67]++;retry=(cov_hf6fyii4b.b[22][0]++,retry)||(cov_hf6fyii4b.b[22][1]++,0);cov_hf6fyii4b.s[68]++;if((cov_hf6fyii4b.b[24][0]++,!this.options.maxRetries)||(cov_hf6fyii4b.b[24][1]++,retry>this.options.maxRetries)){cov_hf6fyii4b.b[23][0]++;cov_hf6fyii4b.s[69]++;throw e;}else{cov_hf6fyii4b.b[23][1]++;}cov_hf6fyii4b.s[70]++;if(this.options.debug){cov_hf6fyii4b.b[25][0]++;cov_hf6fyii4b.s[71]++;console.log('Retry',e.message);}else{cov_hf6fyii4b.b[25][1]++;}let retryDelay;cov_hf6fyii4b.s[72]++;if(this.option.backoffDelay>0){cov_hf6fyii4b.b[26][0]++;cov_hf6fyii4b.s[73]++;retryDelay=Math.pow(this.option.backoffDelay,retry);cov_hf6fyii4b.s[74]++;if(this.options.backoffVariance>0){cov_hf6fyii4b.b[27][0]++;cov_hf6fyii4b.s[75]++;retryDelay*=1+this.options.backoffVariance*(Math.random()-0.5);}else{cov_hf6fyii4b.b[27][1]++;}cov_hf6fyii4b.s[76]++;if(this.options.maxBackoffDelay){cov_hf6fyii4b.b[28][0]++;cov_hf6fyii4b.s[77]++;retryDelay=Math.max(retryDelay,this.options.maxBackoffDelay);}else{cov_hf6fyii4b.b[28][1]++;}}else{cov_hf6fyii4b.b[26][1]++;cov_hf6fyii4b.s[78]++;retryDelay=(cov_hf6fyii4b.b[29][0]++,this.options.retryDelay)||(cov_hf6fyii4b.b[29][1]++,30000);}cov_hf6fyii4b.s[79]++;return Promise.delay(retryDelay).then(execute.bind(this,retry++));});};cov_hf6fyii4b.s[80]++;return execute();};cov_hf6fyii4b.s[81]++;module.exports=Bulk;